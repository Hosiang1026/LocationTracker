<p align="right">
  <b><a href="./README.md">Chinese</a></b> | <b>English</b>
</p>

<br>

# LocationTracker

[![Android Version](https://img.shields.io/badge/Android-4.0+-green.svg)](https://developer.android.com/about/versions/android-4.0)
[![Version](https://img.shields.io/badge/Version-V2.1.5-blue.svg)](https://github.com/your-repo/LocationTracker/releases)
[![UI Design](https://img.shields.io/badge/UI-Single%20Panel%20Design-brightgreen.svg)](https://haoxiang.eu.org/ui/UI_PREVIEW)
[![Tablet UI](https://img.shields.io/badge/Tablet%20UI-Large%20Screen%20Optimized-blue.svg)](https://haoxiang.eu.org/ui/TABLET_UI_PREVIEW)
[![Theme Compatibility](https://img.shields.io/badge/Theme-Smart%20Compatibility-orange.svg)](https://github.com/your-repo/LocationTracker#-theme-compatibility-fix-details)

> üì± **Smart Location Reporting App** - Send location data to Home Assistant or other servers via HTTP Webhook (Pure HTTP Webhook application, no MQTT functionality)

## üö® Important Notice

> üö® **Anti-Fraud Statement**: This app is completely open source and free. Please do not believe any paid versions or paid services!
> 
> - üì± **Official Channel**: Download only from the official GitHub repository
> - üí∞ **Completely Free**: All features are completely free, no paid items
> - üîí **Open Source Transparent**: Code is completely open source, freely viewable and modifiable
> - ‚ö†Ô∏è **Beware of Scams**: If you encounter payment requests, please report immediately and block
> - üìû **Official Support**: If you have questions, please provide feedback through GitHub Issues

---

## üöÄ Quick Start

### üì• Installation
1. Download [APK file](./app/build/outputs/apk/release/)
2. Install on Android device
3. Grant necessary permissions
4. Configure Webhook URL (supports http/https, format validation, cannot be empty)
5. Configure reporting cycle (10~10800 seconds, cannot be empty, range validation)
6. Click "Start Location" to use

### ‚ö° Core Features
- üìç **Real-time Location**: GPS/network positioning, precise location reporting
- üîÑ **Data Deduplication**: Avoid repeated reporting of identical location data
- üîã **Low Battery Protection**: Automatically pause reporting when battery is below 10%
- üåô **Background Keep-alive**: Auto-start on boot, service auto-restart
- üé® **Transparent Status Bar**: Support Android 4.4+ transparent status bar
- üõ°Ô∏è **Global Exception Capture**: Automatic crash log recording and friendly prompts
- üìù **Input Validation**: Strict validation of Webhook URL format and reporting cycle
- üñ•Ô∏è **Multi-resolution Adaptation**: Support different screen sizes
- üîß **Device Optimization Guide**: Built-in optimization settings guide for various device brands
- üîí **SQL Injection Protection**: Use parameterized queries to prevent SQL injection

## üé® Interface Preview

> üí° **Quick Preview**: [üì± Mobile Interface](https://haoxiang.eu.org/ui/UI_PREVIEW) | [üìü Tablet Interface](https://haoxiang.eu.org/ui/TABLET_UI_PREVIEW)

### üì± Mobile Features
- **Single Panel Design**: Bottom TAB switching, clean and unified interface
- **Status Monitoring**: Real-time display of connection status, location status, battery level, report count
- **Configuration Panel**: Webhook URL configuration, reporting interval settings, notification toggle
- **Runtime Logs**: Real-time display of app running status and reporting records

### üìü Tablet Features
- **Large Screen Optimization**: Layout and font size optimized for tablet devices
- **Touch Friendly**: Larger buttons and interaction areas
- **Information Density**: Reasonable information density, making full use of large screen space
- **Landscape/Portrait Adaptation**: Support landscape/portrait switching, maintaining good user experience

## üöÄ User Guide

### First Time Use
1. **Install App**: Download and install APK file
2. **Grant Permissions**: Allow location, network, auto-start and other permissions
3. **Configure Parameters**: Set Webhook URL and reporting interval in configuration panel
4. **Start Service**: Click "Start Location" button to start location reporting
5. **Monitor Status**: Switch to monitoring panel to view running status and logs

### Interface Operations
- **üìä Monitoring Panel**: View connection status, location status, battery level, report count
- **‚öôÔ∏è Configuration Panel**: Set Webhook URL, reporting interval, notification toggle
- **üì± Bottom Navigation**: Switch between monitoring and configuration panels
- **üõ†Ô∏è Log Management**: Click "üõ†Ô∏è Logs" to view crash logs
- **üîß Optimization Settings**: Click "Optimization Settings" to get device optimization suggestions

### Daily Use
- **Auto Start**: App will automatically start location reporting service
- **Background Running**: Service runs continuously in background, no manual intervention needed
- **Status Monitoring**: View connection status and report count through status panel
- **Log Viewing**: View detailed running logs for troubleshooting
- **Notification Monitoring**: View current reporting time and status through notification bar

### Troubleshooting
1. **Service Cannot Start**: Check if GPS is enabled, permissions are granted
2. **Data Reporting Failed**: Check network connection, whether Webhook URL is correct
3. **Background Killed**: Check device optimization settings, ensure app is not restricted
4. **Battery Drain Too Fast**: Increase reporting interval appropriately, or enable low battery protection
5. **Theme Compatibility Issues**: App has built-in smart theme adaptation, if problems persist please check crash logs

## üìã Permission Description

### Required Permissions
- `ACCESS_FINE_LOCATION`: Precise location permission
- `ACCESS_COARSE_LOCATION`: Coarse location permission
- `ACCESS_BACKGROUND_LOCATION`: Background location permission (Android 10+)
- `INTERNET`: Internet access permission
- `ACCESS_NETWORK_STATE`: Network state access permission
- `WAKE_LOCK`: Wake lock permission
- `RECEIVE_BOOT_COMPLETED`: Boot auto-start permission

### Optional Permissions
- `FOREGROUND_SERVICE`: Foreground service permission (Android 8.0+)
- `REQUEST_IGNORE_BATTERY_OPTIMIZATIONS`: Ignore battery optimization permission
- `SYSTEM_ALERT_WINDOW`: System overlay permission (Huawei/Honor devices)
- `ACCESS_WIFI_STATE`: WiFi state access permission (for network positioning)
- `CHANGE_WIFI_STATE`: WiFi state modification permission
- `ACCESS_LOCATION_EXTRA_COMMANDS`: Location extra commands permission
- `READ_EXTERNAL_STORAGE`: External storage read permission (for crash log management)
- `WRITE_EXTERNAL_STORAGE`: External storage write permission (for crash log management)
- `READ_PHONE_STATE`: Phone state read permission
- `WRITE_SETTINGS`: System settings write permission
- `BLUETOOTH`: Bluetooth permission
- `BLUETOOTH_ADMIN`: Bluetooth admin permission

## üîí Security Analysis

### Fixed Security Issues
‚úÖ **SQL Injection Protection**: All database operations use parameterized queries
‚úÖ **Network Request Security**: Use OkHttp library, support HTTPS, include timeout and retry mechanisms
‚úÖ **Permission Management**: Comprehensive runtime permission application mechanism
‚úÖ **Input Validation**: Strict validation of user input
‚úÖ **API Level Compatibility**: Fixed all API level compatibility issues

### Security Recommendations
- üîê Recommend using HTTPS Webhook URL
- üîê Regularly update app version
- üîê Use in trusted network environment
- üîê Regularly check accuracy of reported data

## ‚öôÔ∏è Configuration Description

### Basic Configuration
1. **Webhook URL**: Must start with http/https, cannot be empty, format validation on input
2. **Reporting Interval**: 10~10800 seconds, cannot be empty, invalid if out of range
3. **Notification Toggle**: Control foreground notification display, keep app running in background

### Data Format

The app will send different format data according to different reporting scenarios:

#### Standard Location Reporting Format
```json
{
  "latitude": 37.7749,
  "longitude": -122.4194,
  "altitude": 100.5,
  "gps_accuracy": 5.0,
  "battery": 75,
  "speed": 30.0,
  "bearing": 180.0,
  "timestamp": 1640995200000,
  "provider": "gps",
  "screen_off": false,
  "power_save_mode": false
}
```

#### Immediate Reporting Format (with extra flag)
```json
{
  "latitude": 37.7749,
  "longitude": -122.4194,
  "altitude": 100.5,
  "gps_accuracy": 5.0,
  "battery": 75,
  "speed": 30.0,
  "bearing": 180.0,
  "timestamp": 1640995200000,
  "provider": "gps",
  "screen_off": false,
  "power_save_mode": false,
  "immediate_report": true
}
```

#### WorkManager Simplified Format (basic fields only)
```json
{
  "latitude": 37.7749,
  "longitude": -122.4194,
  "altitude": 100.5,
  "accuracy": 5.0,
  "timestamp": 1640995200000
}
```

### Field Description

| Field Name | Type | Description | Required |
|------------|------|-------------|----------|
| `latitude` | number | Latitude | ‚úÖ |
| `longitude` | number | Longitude | ‚úÖ |
| `altitude` | number | Altitude (meters) | ‚ö†Ô∏è |
| `gps_accuracy` / `accuracy` | number | GPS accuracy (meters) | ‚ö†Ô∏è |
| `battery` | number | Battery level percentage | ‚ö†Ô∏è |
| `speed` | number | Movement speed (meters/second) | ‚ö†Ô∏è |
| `bearing` | number | Direction angle (0-360 degrees) | ‚ö†Ô∏è |
| `timestamp` | number | Timestamp (milliseconds) | ‚úÖ |
| `provider` | string | Location provider (gps/network/passive) | ‚ö†Ô∏è |
| `screen_off` | boolean | Whether screen is off | ‚ö†Ô∏è |
| `power_save_mode` | boolean | Whether in power save mode | ‚ö†Ô∏è |
| `immediate_report` | boolean | Whether it's immediate report | ‚ö†Ô∏è |

**Note**: Only `latitude` and `longitude` are required fields, other fields may be empty or missing depending on device capabilities and system status.

## üìä Compatibility Support

### üñ•Ô∏è Screen Sizes
| Device Type | Screen Size | Resolution Range | Interface Layout | Touch Optimization | Status Bar | Typical Device Examples |
|-------------|-------------|------------------|------------------|-------------------|------------|------------------------|
| **Small Phone** | 4.0-4.7 inches | 480x800-720x1280 | ‚úÖ Compact Layout | ‚úÖ Standard Size | ‚úÖ Fully Transparent | Xiaomi 4 (5.0"), Huawei P8 (5.2"), Samsung Galaxy S5 (5.1") |
| **Standard Phone** | 5.0-6.0 inches | 720x1280-1080x1920 | ‚úÖ Single Panel Design | ‚úÖ Standard Size | ‚úÖ Fully Transparent | Huawei P40 (6.1"), Xiaomi 12 (6.28"), OPPO Find X3 (6.7") |
| **Large Phone** | 6.1-6.7 inches | 1080x1920-1440x3200 | ‚úÖ Single Panel Design | ‚úÖ Standard Size | ‚úÖ Fully Transparent | Huawei Mate 50 Pro (6.74"), Xiaomi 13 Ultra (6.73"), vivo X90 Pro+ (6.78") |
| **Small Tablet** | 7.0-8.0 inches | 1024x768-1200x1920 | ‚úÖ Optimized Layout | ‚úÖ Large Size Buttons | ‚úÖ Fully Transparent | Huawei Tablet M6 (8.4"), Xiaomi Tablet 4 (8.0"), Samsung Galaxy Tab A (8.0") |
| **Standard Tablet** | 8.5-10.5 inches | 1200x1920-1600x2560 | ‚úÖ Optimized Layout | ‚úÖ Large Size Buttons | ‚úÖ Fully Transparent | Huawei MatePad Pro (10.8"), Xiaomi Tablet 5 (11"), OPPO Pad (11") |
| **Large Tablet** | 11.0-12.9 inches | 1600x2560-2048x2732 | ‚úÖ Large Screen Adaptation | ‚úÖ Extra Large Size Buttons | ‚úÖ Fully Transparent | Huawei MatePad Pro 12.6", Xiaomi Tablet 6 Pro (11") |
| **Foldable** | Unfolded 6.7-8.0 inches | 1080x1920-2208x1768 | ‚úÖ Adaptive Layout | ‚úÖ Smart Size | ‚úÖ Fully Transparent | Samsung Galaxy Fold (7.6"), Huawei Mate X (8.0"), Xiaomi MIX Fold (8.01") |
| **Car/Large Screen** | 10.0-15.0 inches | 1920x1080-2560x1440 | ‚úÖ Large Screen Adaptation | ‚úÖ Extra Large Size Buttons | ‚úÖ Fully Transparent | Car Android System, Smart Large Screen Devices, Android TV |

### ü§ñ Android Versions
| Feature | Android 4.0-4.3 | Android 4.4-4.4W | Android 5.0+ | Android 10+ |
|---------|------------------|-------------------|--------------|-------------|
| **Basic Location** | ‚úÖ Supported | ‚úÖ Supported | ‚úÖ Supported | ‚úÖ Supported |
| **Background Location** | ‚úÖ Supported | ‚úÖ Supported | ‚úÖ Supported | ‚ö†Ô∏è Permission Required |
| **Foreground Service** | ‚ùå Not Supported | ‚ùå Not Supported | ‚úÖ Supported | ‚úÖ Supported |
| **Transparent Status Bar** | ‚ùå Not Supported | ‚ö†Ô∏è Semi-transparent | ‚úÖ Fully Transparent | ‚úÖ Fully Transparent |
| **Theme Compatibility** | ‚úÖ Smart Adaptation | ‚úÖ Smart Adaptation | ‚úÖ Smart Adaptation | ‚úÖ Smart Adaptation |

### üì± Device Brands
| Brand | Auto-start Permission | Background Keep-alive | Battery Optimization | Optimization Guide |
|-------|----------------------|----------------------|---------------------|-------------------|
| **Huawei/Honor** | ‚ö†Ô∏è Settings Required | ‚ö†Ô∏è Optimization Required | ‚ö†Ô∏è Ignore Required | ‚úÖ Built-in Guide |
| **Xiaomi/Redmi** | ‚ö†Ô∏è Settings Required | ‚ö†Ô∏è Optimization Required | ‚ö†Ô∏è Ignore Required | ‚úÖ Built-in Guide |
| **OPPO/OnePlus** | ‚ö†Ô∏è Settings Required | ‚ö†Ô∏è Optimization Required | ‚ö†Ô∏è Ignore Required | ‚úÖ Built-in Guide |
| **vivo** | ‚ö†Ô∏è Settings Required | ‚ö†Ô∏è Optimization Required | ‚ö†Ô∏è Ignore Required | ‚úÖ Built-in Guide |
| **Samsung** | ‚ö†Ô∏è Settings Required | ‚ö†Ô∏è Optimization Required | ‚ö†Ô∏è Ignore Required | ‚úÖ Built-in Guide |

## üè† Home Assistant Integration

> üí° **Recommended Solution**: Use with [TRSDM Dynamic Device Tracker](https://github.com/Dekadinious/trsdm_custom_device_tracker_for_home_assistant) plugin for more flexible device and attribute management

### Solution 1: TRSDM Dynamic Device Tracker (Recommended)

#### Installation Steps
1. Ensure [HACS](https://hacs.xyz/) (Home Assistant Community Store) is installed
2. In Home Assistant, go to HACS > Integrations
3. Click the "+" button, search for "TRSDM Dynamic Device Tracker"
4. Click install TRSDM Dynamic Device Tracker integration
5. Restart Home Assistant

#### Configuration Steps
1. In Home Assistant, go to Settings > Devices & Services
2. Click the "+" button to add new integration
3. Search for "TRSDM Dynamic Device Tracker" and select
4. Follow prompts to set up your first device tracker:
   - Give the tracker a name (e.g., "My Phone")
   - Integration will automatically generate unique webhook URL

#### Usage Method
1. **Configure Webhook URL**: Fill in Home Assistant's webhook URL in the APP's configuration panel
2. **Set Reporting Cycle**: Configure location reporting time interval (10-10800 seconds)
3. **Start Service**: Click "Start Location" button to start location reporting service
4. **Auto Report**: APP will automatically send location data to webhook URL according to configured cycle

**Example Configuration**:
- Webhook URL: `https://your-home-assistant-url/api/webhook/your-webhook-id`
- Reporting Cycle: `60` seconds
- Notification Toggle: `Enabled` (keep app running in background)

**Data Format**: APP will automatically send JSON data containing location information, only `latitude` and `longitude` fields are required, other fields will be automatically added based on device capabilities.

> ‚ö†Ô∏è **Important Reminder**: The reporting address must use a domain name or public IP address, not private IP addresses (such as 192.168.x.x, 10.x.x.x, etc.). Because mobile devices need to access the Home Assistant server through the internet, private IP addresses cannot be accessed in mobile network environments.

#### Standard Attributes
- Distance from home (meters and miles)
- Direction relative to home (towards, away_from, stationary)
- Bearing from home (N, NE, E, SE, S, SW, W, NW)
- Last update timestamp
- Last significant location change time (10m cumulative)

### Solution 2: Native Webhook Integration

#### Automation Configuration
```yaml
automation:
  - alias: "Location Update"
    trigger:
      platform: webhook
      webhook_id: your_webhook_id
    action:
      - service: device_tracker.see
        data:
          dev_id: myphone
          location_name: home
          latitude: "{{ trigger.json.latitude }}"
          longitude: "{{ trigger.json.longitude }}"
          gps_accuracy: "{{ trigger.json.gps_accuracy }}"
          battery: "{{ trigger.json.battery }}"
```

#### Device Tracker Configuration
```yaml
device_tracker:
  - platform: webhook
    webhook_id: your_webhook_id
    name: "My Phone"
    icon: mdi:cellphone
```

### Solution Comparison

| Feature | TRSDM Dynamic Device Tracker | Native Webhook Integration |
|---------|------------------------------|----------------------------|
| **Installation Difficulty** | ‚≠ê‚≠ê‚≠ê Requires HACS | ‚≠ê‚≠ê Native Support |
| **Configuration Flexibility** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Highly Customizable | ‚≠ê‚≠ê Basic Features |
| **Attribute Management** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Dynamic Attributes | ‚≠ê‚≠ê Fixed Attributes |
| **Device Count** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Unlimited | ‚≠ê‚≠ê‚≠ê Limited |
| **Interface Friendly** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê GUI | ‚≠ê‚≠ê Code Configuration |
| **Maintenance Convenience** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Easy Management | ‚≠ê‚≠ê Manual Maintenance |

### Recommended Usage Scenarios

#### TRSDM Dynamic Device Tracker Suitable For:
- üè† **Home Users**: Need GUI configuration
- üîß **Developers**: Need flexible attribute and device management
- üì± **Multiple Devices**: Need to track multiple devices
- üéØ **Customization**: Need custom attributes and features

#### Native Webhook Integration Suitable For:
- üöÄ **Quick Deployment**: Simple one-to-one device tracking
- üìö **Learning Purpose**: Understand Home Assistant basic features
- üîí **Security Considerations**: Don't want to install third-party plugins

### Development Environment
- Android Studio 4.0+
- Android SDK API 14+
- Gradle 6.0+

### Code Standards
- Follow Android development standards
- Add appropriate comments
- Conduct thorough testing

## üì¶ Packaging and Installation

### üîß Packaging Methods

#### Using Build Scripts (Recommended)
```bash
# Linux/Mac
chmod +x build_scripts.sh
./build_scripts.sh

# Windows
build_scripts.bat
```

#### Manual Packaging
```bash
# Package Release version
./gradlew assembleRelease

# Package Debug version  
./gradlew assembleDebug
```

**Important**: Before manual packaging, you need to configure the `local.properties` file:

1. **Copy Configuration Template**:
```bash
cp local.properties.example local.properties
```

2. **Edit local.properties file**:
```properties
# Signing Configuration (Required for Release version)
KEYSTORE_PASSWORD=your_signing_password
KEY_ALIAS=your_key_alias
KEY_PASSWORD=your_key_password

# Server Configuration (Optional, has default values)
CONFIG_URL=your_config_server_address
HEARTBEAT_URL=your_heartbeat_address
WEBHOOK_URL=your_webhook_address
```

3. **Configuration Description**:
- **Signing Configuration**: Required for Release version packaging, used for APK signing
- **Server Configuration**: Optional, if not configured will use default values
- **Default Values**: 
  - `CONFIG_URL`: `https://www.zhangsan.com/locationtracker/api/config`
  - `HEARTBEAT_URL`: `https://www.zhangsan.com/locationtracker/api/config/heartbeat`
  - `WEBHOOK_URL`: `https://www.zhangsan.com/api/webhook/db72ebc1627e52685ca64cdb380`

### Version Description

#### Release Version
- **Package Name**: `com.hx.locationtracker`
- **Features**: Signed, can be released directly
- **Optimization**: Code obfuscation, resource compression, performance optimization
- **Purpose**: Official release version

#### Debug Version  
- **Package Name**: `com.hx.locationtracker.debug`
- **Features**: Unsigned, for testing
- **Optimization**: Retain debug information, convenient for troubleshooting
- **Purpose**: Development testing version

#### Simultaneous Installation
- Both versions can be installed simultaneously, different package names
- Release version for official use
- Debug version for testing and debugging

### üì• Installation Methods

#### Method 1: Direct Installation
1. Download APK file from release
2. Install on Android device
3. Grant necessary permissions
4. Configure Webhook URL and reporting interval

#### Method 2: Source Code Compilation
1. Clone project code
2. Open project with Android Studio
3. Compile to generate APK
4. Install on device

## üöÄ Future Development Plan

### üì± Device-side Feature Enhancement

#### üîÑ Server Configuration Push (Basic Architecture Already Available)
- **Remote Configuration Updates**: Based on existing ConfigSyncService, implement server-side remote push configuration information to device APP
- **Real-time Configuration Sync**: Device automatically receives and applies server-pushed configuration
- **Configuration Version Management**: Support configuration version control and rollback mechanisms
- **Incremental Configuration Updates**: Only push changed configuration items, reduce data transmission

#### üíì Heartbeat Monitoring System (Basic Architecture Already Available)
- **Device Online Status**: Based on existing HEARTBEAT_URL, monitor device online/offline status in real-time through heartbeat packets
- **Network Status Detection**: Automatically detect network connection quality and stability
- **Offline Time Statistics**: Record device offline duration and frequency
- **Abnormal Status Alerts**: Automatically send alerts when devices go offline abnormally

#### üìä Status Feedback Mechanism
- **Device Status Reporting**: Regularly report device running status and health information
- **Configuration Application Feedback**: Feedback configuration reception and application status
- **Error Log Upload**: Automatically upload error logs to server
- **Performance Metrics Collection**: Collect device performance metrics for optimization

### üåê Server-side Feature Planning

#### üîß Device Management Platform
- **Device Registration Management**: Device registration, authentication and permission management
- **Group Management**: Support device grouping and batch operations
- **Configuration Templates**: Predefined configuration templates, support batch configuration push
- **Device Monitoring**: Real-time monitor all device status and location information

#### üìà Data Statistical Analysis
- **Device Activity Statistics**: Statistics on device online time and activity
- **Configuration Application Statistics**: Statistics on configuration push success rate and application
- **Performance Analysis**: Analyze device performance metrics and optimization suggestions
- **Usage Trends**: Analyze device usage trends and patterns

#### üîî Alert Notification System
- **Device Offline Alerts**: Send notifications when devices go offline abnormally
- **Configuration Push Failures**: Send alerts when configuration push fails
- **Abnormal Behavior Detection**: Detect device abnormal behavior and alert
- **System Status Monitoring**: Monitor overall system running status

### üìã Technical Architecture Design

#### üîê Security Mechanisms
- **Device Authentication**: Token-based device identity authentication
- **Data Encryption**: All communication data encrypted with TLS
- **Permission Control**: Fine-grained device permission management
- **Audit Logging**: Complete operation audit log records

#### ‚ö° Performance Optimization
- **Connection Pool Management**: Efficient connection pool management mechanism
- **Message Queue**: Reliable message delivery and processing
- **Cache Mechanism**: Smart cache to reduce duplicate requests
- **Load Balancing**: Support multi-server load balancing

#### üîÑ Protocol Design
- **Heartbeat Protocol**: Lightweight heartbeat packet protocol design
- **Configuration Push Protocol**: Standardized configuration push protocol
- **Status Feedback Protocol**: Device status feedback protocol specification
- **Error Handling Protocol**: Unified error handling and retry mechanism

### üìÖ Development Timeline

#### Phase 1: Basic Features (1-2 months)
- [ ] Complete ConfigSyncService startup and call mechanism
- [ ] Implement server-side device status monitoring
- [ ] Complete configuration push functionality
- [ ] Implement device authentication mechanism

#### Phase 2: Management Platform (2-3 months)
- [ ] Web management interface development
- [ ] Device grouping management functionality
- [ ] Configuration template system
- [ ] Real-time monitoring panel

#### Phase 3: Advanced Features (3-4 months)
- [ ] Data statistical analysis
- [ ] Alert notification system
- [ ] Performance optimization
- [ ] Security hardening

### üéØ Feature Comparison

| Feature Module | Current Version | Future Version |
|----------------|-----------------|----------------|
| **Configuration Management** | Local Configuration | Remote Push Configuration |
| **Device Monitoring** | Basic Status | Real-time Heartbeat Monitoring |
| **Data Statistics** | Basic Logs | Detailed Statistical Analysis |
| **Alert Notifications** | Local Notifications | Remote Alert System |
| **Permission Management** | Basic Permissions | Fine-grained Permissions |
| **Security Mechanisms** | Basic Encryption | Enterprise-level Security |

### üí° Development Principles

#### ‚úÖ Key Development Focus
- **Lightweight Design**: Keep app lightweight, don't affect device performance
- **Open Source Friendly**: All features remain open source, convenient for community contribution
- **User-oriented**: Prioritize features most needed by users
- **Progressive Development**: Develop in phases, ensure each phase has usable version

#### üîß Technical Foundation
- **Existing Architecture**: Based on existing ConfigSyncService and heartbeat mechanism
- **Compatibility**: Maintain complete compatibility with existing features
- **Scalability**: Design architecture supporting future feature expansion
- **Stability**: Ensure new features don't affect existing feature stability

## ü§ù Contributing Guidelines

Welcome to submit Issues and Pull Requests to improve the project!

## üìÑ License

This project is licensed under the MIT License. See the LICENSE file for details.

## üìû Contact

If you have questions or suggestions, please contact through:
- Submit GitHub Issues
- Send email to project maintainer

---

**Note**: When using this app, please comply with local laws and regulations, ensure location services are used within legal scope.

## üìù Changelog

### V2.1.5
- üßπ **Code Cleanup**: Removed all MQTT-related code and configurations
- üì± **Version Update**: Upgraded from V2.1.4 to V2.1.5
- üîß **Configuration Optimization**: Simplified build configuration, removed unused dependencies
- üìù **Documentation Update**: Updated version number and feature descriptions
- üõ†Ô∏è **ProGuard Optimization**: Updated package name reference rules
- Comprehensive UI detail optimization, improved user experience:
  - Webhook/cycle input boxes added detailed hints, explaining format and range
  - Button debounce processing, prevent multiple "Start" clicks causing duplicate startup
  - All input and operation errors have clear Toast prompts
  - Service start/stop, report success/failure operations have clear UI feedback
  - Night mode/high contrast adaptation, ensure interface clarity under different themes
  - Multi-resolution adaptation (sw400dp, sw600dp, sw720dp, sw800dp, sw900dp), all optimizations synchronized to various screen layouts
- Global exception capture, prevent app crashes and locally save crash logs, friendly prompts when exceptions occur
- Webhook URL, reporting cycle and other input validation more strict, prevent invalid configuration
- Other detail experience optimizations and bug fixes

### Cleanup Details
- ‚ùå Removed MQTT_USERNAME configuration
- ‚ùå Removed MQTT_PASSWORD configuration
- ‚ùå Removed CLIENT_ID configuration
- ‚ùå Removed TOPIC1 variable
- ‚ùå Removed clientid, userName, passWord variables
- ‚ùå Removed MQTT-related string resources
- ‚úÖ Updated ProGuard rules package name references

### V2.1.4
- ‚ú® **Transparent Status Bar Feature**: Implement immersive status bar effect, status bar above title becomes transparent
- ‚ú® **Smart Compatibility**: Different Android versions automatically use corresponding transparent schemes
  - Android 5.0+ (API 21+): Fully transparent status bar
  - Android 4.4-4.4W (API 19-20): Semi-transparent status bar
  - Android 4.0-4.3 (API 14-18): Automatically ignore, keep original
- üõ†Ô∏è **Technical Implementation**: Layout adaptation and code implementation, ensure backward compatibility
- üõ†Ô∏è **Exception Handling**: Transparent status bar setting failure doesn't affect normal app operation

### v2.1.3
- üö® **Important Fixes and Optimizations**: Thoroughly fixed theme compatibility crash issues, ensure app runs stably on all devices
- üõ†Ô∏è **Smart Theme Setting Mechanism**: Automatically select optimal AppCompat theme based on system status (power save mode, night mode, high contrast, etc.)
- üõ†Ô∏è **Multiple Protection Mechanisms**: Set compatible themes in Application, Activity's attachBaseContext and onCreate stages, ensure 100% no crashes
- üõ†Ô∏è **Theme Verification Mechanism**: Verify if theme takes effect after each theme setting, automatic fallback when failed
- ‚ú® **Crash Log Management Optimization**: Fixed issue where dialog information doesn't update after crash log cleanup, provide immediate cleanup function
- ‚ú® **Screen Status Adaptive Location Interval**: Automatically shorten location interval when screen is off, increase probability of being woken by system
- ‚ú® **Data Deduplication Mechanism**: Only report when location data changes, reduce invalid reports
- ‚ú® **Low Battery Smart Protection**: Pause location reporting when battery below 10%, automatically restart when battery recovers
- ‚ú® **Enhanced WakeLock Mechanism and Keep-alive Strategy**: Use stronger WakeLock strategy to ensure background running
- ‚ú® **Service Auto-restart Mechanism**: Auto-restart through broadcast mechanism after being killed by system
- ‚ú® **Boot Auto-start Function**: Automatically start location reporting service after system boot completes
- ‚ú® **Keep-alive Timer and Status Check**: Random 60-second to configured reporting interval keep-alive check mechanism
- ‚ú® **Battery Status Monitoring and Power Recovery Logic**: Real-time monitor battery level and power save mode status
- üîß **Fixed API Level Compatibility Issues**: Ensure stable operation on all Android versions
- üîß **Improved Network Requests and Error Handling**: More comprehensive exception capture and error recovery mechanisms
- üîß **Optimized Status Broadcasting and Log System**: Improved status update and log broadcasting mechanisms
- üîí **Enhanced Permission Checking and Input Validation**: Stricter permission checking and input validation
- üì± **Improved User Experience and Interface Display**: Optimized user interface and interaction experience

### v2.1.2
- üö® **Important Fix**: Fixed issue where reporting interval automatically adjusts when screen status switches
- ‚ú® **Data Deduplication Mechanism**: Only report when location data changes
- üîß **API Compatibility**: Fixed API level compatibility issues
- üîß **Network Optimization**: Improved network requests and error handling
- üîß **Log System**: Optimized status broadcasting and log system
- üîí **Security Enhancement**: Enhanced permission checking and input validation
- üì± **Interface Optimization**: Improved user experience and interface display

### v2.1.1
- ‚ú® Added low battery smart protection feature
- ‚ú® Enhanced WakeLock mechanism and keep-alive strategy
- ‚ú® Improved service auto-restart mechanism
- ‚ú® Completed boot auto-start functionality
- ‚ú® Added keep-alive timer and status check
- ‚ú® Optimized battery status monitoring and power recovery logic
- üîß Fixed API level compatibility issues
- üîß Improved network requests and error handling
- üîß Optimized status broadcasting and log system
- üîí Enhanced permission checking and input validation
- üì± Improved user experience and interface display
- ‚ö†Ô∏è **Note**: This version had issue where reporting interval automatically adjusts when screen status switches, fixed in v2.1.2

### v2.0.0
- ‚ú® Added low battery protection feature
- ‚ú® Enhanced WakeLock mechanism
- ‚ú® Optimized screen status monitoring
- ‚ú® Improved network retry mechanism
- ‚ú® Completed log system
- üîí Fixed SQL injection vulnerability
- üîí Enhanced input validation
- üîí Improved error handling

### v1.0.0
- üéâ Initial version release
- üìç Basic location reporting functionality
- üåê HTTP Webhook support
- üì± Android 4.0+ compatibility